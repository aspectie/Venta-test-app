{"version":3,"sources":["assets/logo.svg","assets/info.svg","components/login/LostPass.js","components/common/FormControl/FormControl.js","utils/validators/validators.js","api/api.js","redux/auth-reducer.js","components/login/Login.js","components/home/Home.js","App.js","redux/redux-store.js","index.js","components/common/FormControl/FormControl.module.css","components/home/home.module.css","components/login/loginPage.module.css"],"names":["LostPass","props","className","loginPage","wrapper","Header","headerWrapper","logo","src","main","title","inputsWrapper","type","placeholder","disabled","info","buttons","forgot","to","active","toLogin","FormControl","input","meta","child","hasError","touched","error","formControl","formInput","children","Input","restProps","required","value","instance","axios","create","withCredentials","baseURL","headers","authAPI","email","password","post","get","SET_USER_DATA","initialState","userId","login","isAuth","getAuthUserData","dispatch","then","response","data","resultCode","id","payload","setAuthUserData","authReducer","state","action","LoginFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","name","validate","component","ServerError","arrowIcon","connect","auth","message","messages","length","stopSubmit","_error","formData","Home","home","loadWrapper","loadRing","App","path","render","rootReducer","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","basename","process","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.f303770e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.913e8484.svg\";","export default __webpack_public_path__ + \"static/media/info.49f8654f.svg\";","import React from 'react';\r\n\r\nimport loginPage from './loginPage.module.css';\r\n\r\nimport logo from '../../assets/logo.svg'\r\nimport info from '../../assets/info.svg'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst LostPass = (props) => {\r\n    return (\r\n        <div className={loginPage.wrapper}>\r\n            <div className={loginPage.Header}>\r\n                <div className={loginPage.headerWrapper}>\r\n                    <div className={loginPage.logo}>\r\n                        <img src={logo}/>\r\n                    </div>\r\n                    <p>Корпоративная информационная система</p>\r\n                </div>\r\n            </div>\r\n            <div className={loginPage.main}>\r\n                <p className={loginPage.title}>Востановление пароля</p>\r\n                <div className={loginPage.inputsWrapper}>\r\n                    <input type=\"login\" placeholder={\"Логин или e-mail*\"} disabled={true}/>\r\n                    <div className={loginPage.info}>\r\n                        <img src={info}/>\r\n                        <p>Пароль будет отправлено на электронную почту, к которой привязана учетная запись.</p>\r\n                    </div>\r\n                </div>\r\n                <div className={loginPage.buttons}>\r\n                    <div className={loginPage.forgot}>\r\n                        <NavLink to=\"/login\" className={loginPage.active} >Назад</NavLink>\r\n                    </div>\r\n                    <div className={loginPage.toLogin}><button type={\"submit\"} disabled={true}>Восстановить</button></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LostPass;\r\n","import React from \"react\";\r\nimport formControl from \"./FormControl.module.css\";\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={formControl.formControl + \" \" + (hasError ? formControl.error : \"\")}>\r\n            <div className={formControl.formInput}>\r\n                {props.children}\r\n                <label>{props.placeholder}</label>\r\n            </div>\r\n            { hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Обязательное поле\";\r\n}","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:     {\r\n        \"API-KEY\": \"480cccb7-5dd0-480e-a8eb-ac9a2fb33b9b\"\r\n    }\r\n});\r\n\r\nexport const authAPI = {\r\n    login(email, password) {\r\n        return instance.post(`auth/login`, { email, password });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    }\r\n}","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload:\r\n        {userId, email, login, isAuth}  });\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, login, email} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        });\r\n}\r\n\r\nexport const login = (email, password) => (dispatch) => {\r\n    authAPI.login(email, password)\r\n      .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n                dispatch(stopSubmit(\"login\", {_error: message}));\r\n\r\n            }\r\n      });\r\n}\r\n/*\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout()\r\n       .then(response => {\r\n           if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n       });\r\n}\r\n*/\r\nexport default authReducer;","import React from 'react';\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {Input} from \"../common/FormControl/FormControl\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport loginPage from './loginPage.module.css';\r\n\r\nimport logo from '../../assets/logo.svg'\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <div className={loginPage.wrapper}>\r\n            <div className={loginPage.Header}>\r\n                <div className={loginPage.headerWrapper}>\r\n                    <div className={loginPage.logo}>\r\n                        <img src={logo}/>\r\n                    </div>\r\n                    <p>Корпоративная информационная система</p>\r\n                </div>\r\n            </div>\r\n            <form onSubmit={props.handleSubmit}>{\r\n                <div className={loginPage.main}>\r\n                    <p className={loginPage.title}>Данные для входа</p>\r\n                    <div className={loginPage.inputsWrapper}>\r\n                        <Field placeholder={\"Логин*\"} name={\"email\"} validate={[required]} component={Input}/>\r\n                        <Field placeholder={\"Пароль*\"} name={\"password\"} validate={[required]} component={Input}/>\r\n                        {props.error && <span className={loginPage.ServerError}>\r\n                        {props.error}\r\n                        </span>}\r\n                    </div>\r\n                    <div className={loginPage.buttons}>\r\n                        <div className={loginPage.forgot}>\r\n                            <NavLink to=\"/lostPass\">Не помню пароль</NavLink>\r\n                        </div>\r\n                        <div className={loginPage.toLogin}>\r\n                            <button type={\"submit\"}>Войти в систему<span className={loginPage.arrowIcon}></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/home\"} />\r\n    }\r\n\r\n    return <div>\r\n        <LoginFormRedux onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login} )(Login);\r\n","import React from 'react';\r\n\r\nimport loginPage from '../login/loginPage.module.css';\r\nimport home from './home.module.css';\r\n\r\nimport logo from '../../assets/logo.svg'\r\n\r\nconst Home = (props) => {\r\n    return (\r\n        <div className={loginPage.wrapper}>\r\n            <div className={home.Header}>\r\n                <div className={loginPage.headerWrapper}>\r\n                    <div className={loginPage.logo}>\r\n                        <img src={logo}/>\r\n                    </div>\r\n                    <p>Корпоративная информационная система</p>\r\n                    <p>Добрый день!</p>\r\n                    <div className={home.loadWrapper}>\r\n                        <div className={home.loadRing}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React from \"react\";\nimport {Route, Switch} from 'react-router-dom';\nimport LostPass from \"./components/login/LostPass\";\nimport Login from \"./components/login/Login\";\nimport Home from \"./components/home/Home\";\n\nimport './App.css';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Switch>\n                <Route path='/home'\n                       render={() => <Home/>}/>\n                <Route path='/lostPass'\n                       render={() => <LostPass/>}/>\n                <Route path='/login'\n                       render={() => <Login/>}/>\n                <Route path='*'\n                       render={() => <div>404 NOT FOUND</div>}/>\n            </Switch>\n        </div>\n    );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nimport authReducer from \"./auth-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer\r\n})\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n//глобально используем в консоли\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n    <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>,\ndocument.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__3pStX\",\"error\":\"FormControl_error__2kra-\",\"formInput\":\"FormControl_formInput__2IxzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"home_Header__E8I0C\",\"loadWrapper\":\"home_loadWrapper__1a5RH\",\"loadRing\":\"home_loadRing__2Wwa-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"loginPage_wrapper__5mrhR\",\"Header\":\"loginPage_Header__Nk8tK\",\"logo\":\"loginPage_logo__2O3ks\",\"main\":\"loginPage_main__2u2Yl\",\"title\":\"loginPage_title__3QpJN\",\"inputsWrapper\":\"loginPage_inputsWrapper__b6jt-\",\"info\":\"loginPage_info__1uUxL\",\"buttons\":\"loginPage_buttons__2tGjF\",\"arrowIcon\":\"loginPage_arrowIcon__3vMKU\",\"forgot\":\"loginPage_forgot__3pP8r\",\"active\":\"loginPage_active__CT_-z\",\"ServerError\":\"loginPage_ServerError__1fwfI\"};"],"sourceRoot":""}